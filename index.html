<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Feliz Primavera</title>
<link rel="icon" type="image/png" href="favicon.png">
<style>
  body {
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
    background: #fff8e1;
    overflow: hidden;
  }

  /* Pantalla de contrase침a */
  #passwordBox {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    z-index: 2;
  }

  #passwordBox input {
    padding: 10px;
    font-size: 16px;
  }

  #passwordBox button {
    padding: 10px 20px;
    margin-left: 10px;
    background-color: #fdd835;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
  }

  /* Pantalla primavera */
  #springScreen {
    display: none;             /* empieza oculta */
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to top, #fffde7, #fff8e1);
    justify-content: center;   /* centra horizontalmente */
    align-items: center;       /* centra verticalmente */
    flex-direction: column;
    text-align: center;
  }

  #springMessage {
    font-size: 6vw;            
    color: #11100c;
    text-shadow: 2px 2px 6px rgba(0,0,0,0.4);
    opacity: 0;
    animation: fadeZoom 2s ease forwards;
    z-index: 2;               /* mensaje sobre el canvas */
    position: relative;
  }

  @keyframes fadeZoom {
    from { opacity: 0; transform: scale(0.5); }
    to { opacity: 1; transform: scale(1); }
  }

  canvas {
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;               /* canvas detr치s del mensaje */
  }

  /* Ajustes para m칩vil */
  @media (max-width: 600px) {
    #springMessage {
      font-size: 10vw;
    }
  }
</style>
</head>
<body>

<!-- Pantalla de contrase침a -->
<div id="passwordBox">
  <input type="password" id="password" placeholder="Ingres치 la clave">
  <button onclick="checkPassword()">Entrar</button>
</div>

<!-- Pantalla primavera -->
<div id="springScreen">
  <canvas id="flowerCanvas"></canvas>
  <h3 id="springMessage">游춰Feliz Primavera, mi sol cu치ntico, que tus d칤as se llenen de magia, brillo y armonia!游</h3>
</div>

<script>
function checkPassword() {
  const password = document.getElementById("password").value;
  if (password === "0706") {  // clave correcta
    document.getElementById("passwordBox").style.display = "none";
    const springScreen = document.getElementById("springScreen");
    springScreen.style.display = "flex";

    // reinicia animaci칩n del mensaje
    const msg = document.getElementById("springMessage");
    msg.style.opacity = "0";
    msg.style.animation = "none";
    void msg.offsetWidth; // reinicia animaci칩n
    msg.style.animation = "fadeZoom 2s ease forwards";

    startFlowers();
  } else {
    alert("Clave incorrecta");
  }
}

function startFlowers() {
  const canvas = document.getElementById("flowerCanvas");
  const ctx = canvas.getContext("2d");

  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  window.addEventListener("resize", () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  });

  class Flower {
    constructor() {
      this.x = Math.random() * canvas.width;
      this.y = canvas.height + Math.random() * 100;
      this.size = 15 + Math.random() * 25;
      this.speed = 1 + Math.random() * 2;
      this.angle = Math.random() * Math.PI * 2;
      this.spin = (Math.random() - 0.5) * 0.02;
      this.type = Math.floor(Math.random() * 3);
    }

    draw() {
      ctx.save();
      ctx.translate(this.x, this.y);
      ctx.rotate(this.angle);

      if (this.type === 0) {
        for (let i = 0; i < 5; i++) {
          ctx.rotate((2 * Math.PI) / 5);
          ctx.beginPath();
          ctx.ellipse(0, -this.size / 2, this.size / 3, this.size, 0, 0, 2 * Math.PI);
          ctx.fillStyle = "#ffeb3b";
          ctx.fill();
        }
      } else if (this.type === 1) {
        for (let i = 0; i < 12; i++) {
          ctx.rotate((2 * Math.PI) / 12);
          ctx.beginPath();
          ctx.ellipse(0, -this.size / 2, this.size / 5, this.size, 0, 0, 2 * Math.PI);
          ctx.fillStyle = "#fbc02d";
          ctx.fill();
        }
      } else {
        for (let i = 0; i < 8; i++) {
          ctx.rotate((2 * Math.PI) / 8);
          ctx.beginPath();
          ctx.arc(0, -this.size / 2, this.size / 2.5, 0, 2 * Math.PI);
          ctx.fillStyle = "#fff176";
          ctx.fill();
        }
      }

      ctx.beginPath();
      ctx.arc(0, 0, this.size / 3, 0, 2 * Math.PI);
      ctx.fillStyle = "#f57f17";
      ctx.fill();

      ctx.restore();
    }

    update() {
      this.y -= this.speed;
      this.angle += this.spin;
      if (this.y < -50) {
        this.y = canvas.height + 50;
        this.x = Math.random() * canvas.width;
        this.type = Math.floor(Math.random() * 3);
      }
      this.draw();
    }
  }

  const flowers = [];
  for (let i = 0; i < 40; i++) flowers.push(new Flower());

  function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    flowers.forEach(f => f.update());
    requestAnimationFrame(animate);
  }
  animate();
}
</script>
</body>
</html>
